define("text!lib/view/pc/popbox.tmpl",[],function(){return'<div class="popbox">\n	<div class="inset">\n		<div class="popheader">\n			<div class="ttl"><?=this.title?></div>\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\n		</div>\n		<div class="panel-body">\n			<?=this.content?>\n		</div>\n		<div class="popfooter">\n			<?=this.footer?>\n		</div>\n	</div>\n</div>'}),define("lib/popbox",["require","exports","module","jquery","dtools","template","text!./view/pc/popbox.tmpl"],function(e,t,n){var r=e("jquery"),i=e("dtools"),s=e("template"),o=i.$c("div");document.body.appendChild(o);var u=r(".cover");u.length==0&&(u=o.cloneNode(),u.className="cover",document.body.appendChild(u),u=r(u));var a=function(e){this._initPopBox(e)};a.prototype={_initPopBox:function(e){i.EventEmitter.call(this),this.options=i.mix({title:"提醒",content:"",cancelTxt:"取消",confirmTxt:"兑换",cancelCallback:null,confirmCallback:null,template:null,customProperties:{}},e),this.container=o.cloneNode(),this.panel=r(this.container),this.initStatus=!1,this.lockScroll=!1,this.panel.hide(),this.options.template==null&&(this.options.template=a.TEMPLATE),this.container.innerHTML=this.options.template.render(i.mix({title:this.options.title,content:this.options.content,cancelTxt:this.options.cancelTxt,confirmTxt:this.options.confirmTxt},this.options.customProperties)),document.body.appendChild(this.container),this._initEvents()},initOpitions:function(e){this.options=i.mix(this.options,e)},_initEvents:function(){var e=this;r(this.container).on("click",".btn-close",function(){e.options.closeCallback&&e.options.closeCallback.call(e),e.hide()})},show:function(e){arguments.length>0&&(this.options=i.mix(this.options,e),this.container.innerHTML=this.options.template.render(i.mix({title:this.options.title,content:this.options.content,cancelTxt:this.options.cancelTxt,confirmTxt:this.options.confirmTxt},this.options.customProperties))),this.panel.show(),u.show(),this.lockScroll=!0},hide:function(){this.container.style.display="none",this.lockScroll=!1,u.hide()}},i.extend(a,i.EventEmitter),a.TEMPLATE=new s(e("text!./view/pc/popbox.tmpl")),n.exports=a}),define("text!lib/view/pc/alert.tmpl",[],function(){return'<div class="popbox alertbox">\n	<div class="inset">\n		<div class="popheader">\n			<div class="ttl"><?=this.title?></div>\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\n		</div>\n		<div class="panel-body">\n			<?=this.content?>\n		</div>\n		<div class="popfooter">\n			<div class="btn btn-confirm"><?=this.confirmTxt?></div>\n		</div>\n	</div>\n</div>'}),define("lib/alert",["require","exports","module","jquery","dtools","template","./popbox","text!./view/pc/alert.tmpl","text!./view/pc/alert.tmpl"],function(e,t,n){var r=e("jquery"),i=e("dtools"),s=e("template"),o=e("./popbox"),u=new s(e("text!./view/pc/alert.tmpl")),a=document.createElement("div"),f=function(e){this._initAlertBox(e)};f.prototype={_initAlertBox:function(e){this.options=i.mix({title:"兑换失败，请稍后再试。",confirmTxt:"我知道了",confirmCallback:null,template:f.TEMPLATE,autoshow:!0},e),o.call(this,this.options),this.options.autoshow&&this.show()},_initEvents:function(){f.parent._initEvents.call(this);var e=this;r(this.container).on("click",".btn-confirm",function(){e.emit("confirm"),e.options.confirmCallback&&e.options.confirmCallback.call(e),e.hide()})},show:function(e){typeof e=="string"&&(e={content:e}),f.parent.show.call(this,e)},setConfirm:function(e){this.on("confirm",e)}},i.extend(f,o),f.TEMPLATE=new s(e("text!./view/pc/alert.tmpl")),n.exports=f}),define("text!lib/view/pc/toast.tmpl",[],function(){return'<div class="toast">\n	<div class="inset">\n		<div class="loader">\n			<i class="ico ico-loading48"></i>\n		</div>\n		<div class="txt"><?=this.text?></div>\n	</div>\n</div>'}),define("lib/toast",["require","exports","module","dtools","template","text!./view/pc/toast.tmpl"],function(e,t,n){var r=e("dtools"),i=e("template"),s=r.$c("div"),o=function(e){this._initToast(e)};o.prototype={_initToast:function(e){this.options=r.mix({txt:"正在加载...",interval:2e3,autoHide:!0,template:o.TEMPLATE},e),this.container=s.cloneNode(),this.timer=null,this.initStatus=!1,document.body.appendChild(this.container),this.show()},hide:function(){this.container.style.display="none",clearTimeout(self.timer)},show:function(e){var t=this;this.initStatus?(e&&(this.container.innerHTML=this.options.template.render({text:e})),this.container.style.display="block"):(this.initStatus=!0,this.container.innerHTML=this.options.template.render({text:this.options.txt})),this.options.autoHide&&(this.timer=setTimeout(function(){t.hide(),t.timer=null},this.options.interval))}},o.TEMPLATE=new i(e("text!./view/pc/toast.tmpl")),n.exports=o}),define("text!lib/view/pc/confirm.tmpl",[],function(){return'<div class="popbox">\n	<div class="inset">\n		<div class="popheader">\n			<div class="ttl"><?=this.title?></div>\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\n		</div>\n		<div class="panel-body">\n			<?=this.content?>\n		</div>\n		<div class="popfooter">\n			<div class="btn-group">\n				<div class="btn btn-confirm"><?=this.confirmTxt?></div>\n				<div class="btn btn-cancel"><?=this.cancelTxt?></div>\n			</div>\n		</div>\n	</div>\n</div>'}),define("lib/confirm",["require","exports","module","jquery","dtools","template","./popbox","text!./view/pc/confirm.tmpl","text!./view/pc/confirm.tmpl"],function(e,t,n){var r=e("jquery"),i=e("dtools"),s=e("template"),o=e("./popbox"),u=new s(e("text!./view/pc/confirm.tmpl")),a=document.createElement("div");document.body.appendChild(a);var f=function(e){this._initConfirmBox(e)};f.prototype={_initConfirmBox:function(e){this.options=i.mix({title:"确认",content:"",cancelTxt:"取消",confirmTxt:"确定",cancelCallback:null,confirmCallback:null,template:f.TEMPLATE},e),o.call(this,this.options)},_initEvents:function(){f.parent._initEvents.call(this);var e=this;r(this.container).on("click",".btn-cancel",function(){e.options.cancelCallback&&e.options.cancelCallback.call(e),e.hide()}),r(this.container).on("click",".btn-confirm",function(){e.options.confirmCallback&&e.options.confirmCallback.call(e),e.hide()})}},i.extend(f,o),f.TEMPLATE=new s(e("text!./view/pc/confirm.tmpl")),n.exports=f}),define("popbox",["require","exports","module","./lib/popbox","./lib/alert","./lib/toast","./lib/confirm"],function(e,t,n){var r=e("./lib/popbox"),i=e("./lib/alert"),s=e("./lib/toast"),o=e("./lib/confirm");t.PopBox=r,t.Alert=i,t.Toast=s,t.Confirm=o,t.setTemplate=function(e){"popbox"in e&&(r.TEMPLATE=e.popbox)};var u=null;t.toast=function(e,t){var n={};return e&&(n.txt=e),arguments.length==1&&(t=0),t!==undefined&&t!==null&&(t==0?n.autoHide=!1:n.interval=t),u==null?u=new s(n):(u.initOpitions(n),u.show()),u};var a=null;t.alert=function(e){return a===null?a=new i({title:"提醒",confirmTxt:"确定",confirmCallback:null,content:e,autoshow:!0}):a.initOpitions({content:e}),a.show(),a}});