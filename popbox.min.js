define("text!lib/view/popbox.tmpl",[],function(){return'<div class="popbox">\n	<div class="inset">\n		<div class="popheader">\n			<div class="ttl"><?=this.title?></div>\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\n		</div>\n		<div class="panel-body">\n			<?=this.content?>\n		</div>\n		<div class="popfooter">\n			<?=this.footer?>\n		</div>\n	</div>\n</div>'}),define("lib/popbox",["require","exports","module","jquery","dtools","template","text!./view/popbox.tmpl"],function(e,t,n){var r=e("jquery"),i=e("dtools"),s=e("template"),o=new s(e("text!./view/popbox.tmpl")),u=i.$c("div");document.body.appendChild(u);var a=r(".cover");a.length==0&&(a=u.cloneNode(),a.className="cover",document.body.appendChild(a),a=r(a));var f=function(e){this._initPopBox(e)};f.prototype={_initPopBox:function(e){this.options=i.mix({title:"提醒",content:"",cancelTxt:"取消",confirmTxt:"兑换",cancelCallback:null,confirmCallback:null,template:null,customProperties:{}},e),this.container=u.cloneNode(),this.panel=r(this.container),this.initStatus=!1,this.lockScroll=!1,this.panel.hide(),this.options.template==null&&(this.options.template=o),this.container.innerHTML=this.options.template.render(i.mix({title:this.options.title,content:this.options.content,cancelTxt:this.options.cancelTxt,confirmTxt:this.options.confirmTxt},this.options.customProperties)),document.body.appendChild(this.container),this._initEvents()},initOpitions:function(e){this.options=i.mix(this.options,e)},_initEvents:function(){var e=this;r(this.container).on("click",".btn-close",function(){e.options.closeCallback&&e.options.closeCallback.call(e),e.hide()})},show:function(e){arguments.length>0&&(this.options=i.mix(this.options,e),this.container.innerHTML=this.options.template.render(i.mix({title:this.options.title,content:this.options.content,cancelTxt:this.options.cancelTxt,confirmTxt:this.options.confirmTxt},this.options.customProperties))),this.panel.show(),a.show(),this.lockScroll=!0},hide:function(){this.container.style.display="none",this.lockScroll=!1,a.hide()}},n.exports=f}),define("text!lib/view/alert.tmpl",[],function(){return'<div class="popbox alertbox">\n	<div class="inset">\n		<div class="popheader">\n			<div class="ttl"><?=this.title?></div>\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\n		</div>\n		<div class="panel-body">\n			<?=this.content?>\n		</div>\n		<div class="popfooter">\n			<div class="btn btn-confirm"><?=this.confirmTxt?></div>\n		</div>\n	</div>\n</div>'}),define("lib/alert",["require","exports","module","jquery","dtools","template","./popbox","text!./view/alert.tmpl"],function(e,t,n){var r=e("jquery"),i=e("dtools"),s=e("template"),o=e("./popbox"),u=new s(e("text!./view/alert.tmpl")),a=document.createElement("div"),f=function(e){this._initAlertBox(e)};f.prototype={_initAlertBox:function(e){this.options=i.mix({title:"兑换失败，请稍后再试。",confirmTxt:"我知道了",confirmCallback:null,template:u,autoshow:!0},e),o.call(this,this.options),this.options.autoshow&&this.show()},_initEvents:function(){f.parent._initEvents.call(this);var e=this;r(this.container).on("click",".btn-confirm",function(){e.options.confirmCallback&&e.options.confirmCallback.call(e),e.hide()})},show:function(e){typeof e=="string"&&(e={content:e}),f.parent.show.call(this,e)}},i.extend(f,o),n.exports=f}),define("text!lib/view/toast.tmpl",[],function(){return'<div class="toast">\r\n	<div class="inset">\r\n		<div class="loader">\r\n			<div class="line"></div>\r\n			<div class="line"></div>\r\n			<div class="line"></div>\r\n			<div class="line"></div>\r\n			<div class="line"></div>\r\n			<div class="line"></div>\r\n			<div class="line"></div>\r\n			<div class="line"></div>\r\n			<div class="line"></div>\r\n			<div class="line"></div>\r\n			<div class="line"></div>\r\n			<div class="line"></div>\r\n		</div>\r\n		<div class="txt"><?=this.text?></div>\r\n	</div>\r\n</div>\r\n'}),define("lib/toast",["require","exports","module","dtools","template","text!./view/toast.tmpl"],function(e,t,n){var r=e("dtools"),i=e("template"),s=new i(e("text!./view/toast.tmpl")),o=document.createElement("div"),u=function(e){this._initToast(e)};u.prototype={_initToast:function(e){this.options=r.mix({txt:"正在加载...",interval:2e3,autoHide:!0},e),this.container=o.cloneNode(),this.timer=null,this.initStatus=!1,document.body.appendChild(this.container),this.show()},hide:function(){this.container.style.display="none",clearTimeout(self.timer)},show:function(e){var t=this;this.initStatus?(e&&(this.container.innerHTML=s.render({text:e})),this.container.style.display="block"):(this.initStatus=!0,this.container.innerHTML=s.render({text:this.options.txt})),this.options.autoHide&&(this.timer=setTimeout(function(){t.hide(),t.timer=null},this.options.interval))}},n.exports=u}),define("text!lib/view/confirm.tmpl",[],function(){return'<div class="popbox">\n	<div class="inset">\n		<div class="popheader">\n			<div class="ttl"><?=this.title?></div>\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\n		</div>\n		<div class="panel-body">\n			<?=this.content?>\n		</div>\n		<div class="popfooter">\n			<div class="btn-group">\n				<div class="btn btn-confirm"><?=this.confirmTxt?></div>\n				<div class="btn btn-cancel"><?=this.cancelTxt?></div>\n			</div>\n		</div>\n	</div>\n</div>'}),define("lib/confirm",["require","exports","module","jquery","dtools","template","./popbox","text!./view/confirm.tmpl"],function(e,t,n){var r=e("jquery"),i=e("dtools"),s=e("template"),o=e("./popbox"),u=new s(e("text!./view/confirm.tmpl")),a=document.createElement("div");document.body.appendChild(a);var f=function(e){this._initConfirmBox(e)};f.prototype={_initConfirmBox:function(e){this.options=i.mix({title:"确认",content:"",cancelTxt:"取消",confirmTxt:"确定",cancelCallback:null,confirmCallback:null,template:u},e),o.call(this,this.options)},_initEvents:function(){f.parent._initEvents.call(this);var e=this;r(this.container).on("click",".btn-cancel",function(){e.options.cancelCallback&&e.options.cancelCallback.call(e),e.hide()}),r(this.container).on("click",".btn-confirm",function(){e.options.confirmCallback&&e.options.confirmCallback.call(e),e.hide()})}},i.extend(f,o),n.exports=f}),define("popbox",["require","exports","module","./lib/popbox","./lib/alert","./lib/toast","./lib/confirm"],function(e,t,n){var r=e("./lib/popbox"),i=e("./lib/alert"),s=e("./lib/toast"),o=e("./lib/confirm"),u=null;t.toast=function(e,t){var n={};return e&&(n.txt=e),t!==undefined&&t!==null&&(t==0?n.autoHide=!1:n.interval=t),u==null?u=new s(n):(u.initOpitions(n),u.show()),u};var a=null;t.alert=function(e){return a===null?a=new i({title:"提醒",confirmTxt:"确定",confirmCallback:null,content:e,autoshow:!0}):a.initOpitions({content:e}),a.show(),a}});