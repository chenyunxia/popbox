define("text!lib/view/pc/popbox.tmpl",[],function(){return'<div class="popbox">\r\n	<div class="inset">\r\n		<div class="popheader">\r\n			<div class="ttl"><?=this.title?></div>\r\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\r\n		</div>\r\n		<div class="panel-body">\r\n			<?=this.content?>\r\n		</div>\r\n		<div class="popfooter">\r\n			<?=this.footer?>\r\n		</div>\r\n	</div>\r\n</div>'}),define("lib/popbox",["require","exports","module","jquery","dtools","template","text!./view/pc/popbox.tmpl"],function(t,i,n){var o=t("jquery"),e=t("dtools"),s=t("template"),l=e.$c("div");document.body.appendChild(l);var c=o(".cover");0==c.length&&(c=l.cloneNode(),c.className="cover",document.body.appendChild(c),c=o(c));var r=function(t){this._initPopBox(t)};r.prototype={_initPopBox:function(t){e.EventEmitter.call(this),this.options=e.mix({title:"提醒",content:"",cancelTxt:"取消",confirmTxt:"兑换",cancelCallback:null,confirmCallback:null,template:null,customProperties:{}},t),this.container=l.cloneNode(),this.panel=o(this.container),this.initStatus=!1,this.lockScroll=!1,this.panel.hide(),null==this.options.template&&(this.options.template=r.TEMPLATE),this.container.innerHTML=this.options.template.render(e.mix({title:this.options.title,content:this.options.content,cancelTxt:this.options.cancelTxt,confirmTxt:this.options.confirmTxt},this.options.customProperties)),document.body.appendChild(this.container),this._initEvents()},initOpitions:function(t){this.options=e.mix(this.options,t)},_initEvents:function(){var t=this;o(this.container).on("click",".btn-close",function(){t.options.closeCallback&&t.options.closeCallback.call(t),t.hide()})},show:function(t){arguments.length>0&&(this.options=e.mix(this.options,t),this.container.innerHTML=this.options.template.render(e.mix({title:this.options.title,content:this.options.content,cancelTxt:this.options.cancelTxt,confirmTxt:this.options.confirmTxt},this.options.customProperties))),this.panel.show(),c.show(),this.lockScroll=!0},hide:function(){this.container.style.display="none",this.lockScroll=!1,c.hide()}},e.extend(r,e.EventEmitter),r.TEMPLATE=new s(t("text!./view/pc/popbox.tmpl")),n.exports=r}),define("text!lib/view/pc/alert.tmpl",[],function(){return'<div class="popbox alertbox">\r\n	<div class="inset">\r\n		<div class="popheader">\r\n			<div class="ttl"><?=this.title?></div>\r\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\r\n		</div>\r\n		<div class="panel-body">\r\n			<?=this.content?>\r\n		</div>\r\n		<div class="popfooter">\r\n			<div class="btn btn-confirm"><?=this.confirmTxt?></div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("lib/alert",["require","exports","module","jquery","dtools","template","./popbox","text!./view/pc/alert.tmpl","text!./view/pc/alert.tmpl"],function(t,i,n){var o=t("jquery"),e=t("dtools"),s=t("template"),l=t("./popbox"),c=(new s(t("text!./view/pc/alert.tmpl")),document.createElement("div"),function(t){this._initAlertBox(t)});c.prototype={_initAlertBox:function(t){this.options=e.mix({title:"兑换失败，请稍后再试。",confirmTxt:"我知道了",confirmCallback:null,template:c.TEMPLATE,autoshow:!0},t),l.call(this,this.options),this.options.autoshow&&this.show()},_initEvents:function(){c.parent._initEvents.call(this);var t=this;o(this.container).on("click",".btn-confirm",function(){t.emit("confirm"),t.options.confirmCallback&&t.options.confirmCallback.call(t),t.hide()})},show:function(t){"string"==typeof t&&(t={content:t}),c.parent.show.call(this,t)},setConfirm:function(t){this.on("confirm",t)}},e.extend(c,l),c.TEMPLATE=new s(t("text!./view/pc/alert.tmpl")),n.exports=c}),define("text!lib/view/pc/toast.tmpl",[],function(){return'<div class="toast">\r\n	<div class="inset">\r\n		<div class="loader">\r\n			<i class="ico ico-loading48"></i>\r\n		</div>\r\n		<div class="txt"><?=this.text?></div>\r\n	</div>\r\n</div>'}),define("lib/toast",["require","exports","module","dtools","template","text!./view/pc/toast.tmpl"],function(t,i,n){var o=t("dtools"),e=t("template"),s=o.$c("div"),l=function(t){this._initToast(t)};l.prototype={_initToast:function(t){this.options=o.mix({txt:"正在加载...",interval:2e3,autoHide:!0,template:l.TEMPLATE},t),this.container=s.cloneNode(),this.timer=null,this.initStatus=!1,document.body.appendChild(this.container),this.show()},hide:function(){this.container.style.display="none",clearTimeout(self.timer)},show:function(t){var i=this;this.initStatus?(t&&(this.container.innerHTML=this.options.template.render({text:t})),this.container.style.display="block"):(this.initStatus=!0,this.container.innerHTML=this.options.template.render({text:this.options.txt})),this.options.autoHide&&(this.timer=setTimeout(function(){i.hide(),i.timer=null},this.options.interval))}},l.TEMPLATE=new e(t("text!./view/pc/toast.tmpl")),n.exports=l}),define("text!lib/view/pc/confirm.tmpl",[],function(){return'<div class="popbox">\r\n	<div class="inset">\r\n		<div class="popheader">\r\n			<div class="ttl"><?=this.title?></div>\r\n			<span class="btn btn-close"><i class="ico ico-close"></i></span>\r\n		</div>\r\n		<div class="panel-body">\r\n			<?=this.content?>\r\n		</div>\r\n		<div class="popfooter">\r\n			<div class="btn-group">\r\n				<div class="btn btn-confirm"><?=this.confirmTxt?></div>\r\n				<div class="btn btn-cancel"><?=this.cancelTxt?></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n</div>'}),define("lib/confirm",["require","exports","module","jquery","dtools","template","./popbox","text!./view/pc/confirm.tmpl","text!./view/pc/confirm.tmpl"],function(t,i,n){var o=t("jquery"),e=t("dtools"),s=t("template"),l=t("./popbox"),c=(new s(t("text!./view/pc/confirm.tmpl")),document.createElement("div"));document.body.appendChild(c);var r=function(t){this._initConfirmBox(t)};r.prototype={_initConfirmBox:function(t){this.options=e.mix({title:"确认",content:"",cancelTxt:"取消",confirmTxt:"确定",cancelCallback:null,confirmCallback:null,template:r.TEMPLATE},t),l.call(this,this.options)},_initEvents:function(){r.parent._initEvents.call(this);var t=this;o(this.container).on("click",".btn-cancel",function(){t.options.cancelCallback&&t.options.cancelCallback.call(t),t.hide()}),o(this.container).on("click",".btn-confirm",function(){t.options.confirmCallback&&t.options.confirmCallback.call(t),t.hide()})}},e.extend(r,l),r.TEMPLATE=new s(t("text!./view/pc/confirm.tmpl")),n.exports=r}),define("popbox",["require","exports","module","./lib/popbox","./lib/alert","./lib/toast","./lib/confirm"],function(t,i,n){var o=(t("./lib/popbox"),t("./lib/alert")),e=t("./lib/toast"),s=t("./lib/confirm");i.PopBox=PopBox,i.Alert=o,i.Toast=e,i.Confirm=s;var l=null;i.toast=function(t,i){var n={};return t&&(n.txt=t),1==arguments.length&&(i=0),void 0!==i&&null!==i&&(0==i?n.autoHide=!1:n.interval=i),null==l?l=new e(n):(l.initOpitions(n),l.show()),l};var c=null;i.alert=function(t){return null===c?c=new o({title:"提醒",confirmTxt:"确定",confirmCallback:null,content:t,autoshow:!0}):c.initOpitions({content:t}),c.show(),c}});